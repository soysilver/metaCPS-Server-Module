import json
import random

import classification
import packets


add = {"pid": 5,"machineType": "Steam Turbine", "Gear": False, "Support":"Rigid", "Power": 51000000, "Speed": 3600, "Critical": 5100}
mms = 3.0
microS = 150
input = {"pid": 21,"mms": 7}
st = json.dumps(add, sort_keys=True) 
#fft = [random.randint(1, 10) for _ in range(1024)]
#print(fft)
fft = [0.03126509, 0.03866708, 0.02010523, 0.011097899999999999, 0.01053661, 0.00428318, 0.004323889, 0.0018696070000000001, 0.001717268, 0.001070147, 0.0017462539999999998, 0.0032038839999999997, 0.0026100349999999997, 0.006891056, 0.0018757300000000001, 0.002780846, 0.0047810940000000005, 0.0003356546, 0.01986236, 0.03231377, 0.01802161, 0.003152862, 0.004815704, 0.006127825, 0.004912611, 0.004549755, 0.001627489, 0.005829371999999999, 0.02721613, 0.033609589999999995, 0.01202536, 0.004237177999999999, 0.001757728, 0.0043879010000000005, 0.006736924, 0.003394504, 0.002451671, 0.0039476979999999995, 0.0062779870000000005, 0.01325694, 0.01104597, 0.01088033, 0.003587431, 0.004821089999999999, 0.002134359, 0.011343740000000001, 0.01935077, 0.010106289999999999, 0.004204571, 0.0032619040000000004, 0.0020725289999999996, 0.001092172, 0.001762598, 0.003564976, 0.00140572, 0.007585138999999999, 0.0215777, 0.236, 0.784, 0.603, 0.06428943, 0.0165632, 0.004393672, 0.001564352, 0.001427235, 0.0028832709999999998, 0.002073779, 0.0007237277, 0.0008053632, 0.003914554, 0.00310986, 0.0009267166, 0.001428759, 0.0008036836, 0.001003614, 0.0021777029999999996, 0.0017790940000000002, 0.001656709, 0.001019064, 0.0006159123, 0.001540871, 0.0009179486999999999, 0.0010414460000000001, 0.0009677425000000001, 0.0008401836000000001, 0.0024997329999999996, 0.00277675, 0.001739408, 0.0026136880000000003, 0.00494556, 0.0044943399999999994, 0.004332763, 0.003306079, 0.0016369169999999999, 0.00329107, 0.0025516740000000003, 0.001995512, 0.001572904, 0.001719698, 0.001164212, 0.003618501, 0.004682241, 0.001833748, 0.00335295, 0.002117953, 0.0033331930000000004, 0.003883138, 0.006303728999999999, 0.003917003, 0.001985668, 0.001261989, 0.0022201210000000002, 0.004882376, 0.003024491, 0.0008636192, 0.004530592, 0.01466074, 0.10500000000000001, 0.174, 0.13699999999999998, 0.047801050000000005, 0.0014580090000000001, 0.002025339, 0.0006375053, 0.001397018, 0.0016466109999999999, 0.000691789, 0.0006859348, 0.0010558990000000001, 0.001836182, 0.001290524, 0.002094435, 0.0045693899999999996, 0.003788989, 0.002343187, 0.001471838, 0.001416056, 0.001666007, 0.001682767, 0.0021239600000000003, 0.0018431909999999999, 0.000235712, 0.004910028, 0.008100232, 0.005601808, 0.0009596558000000001, 0.0038968770000000004, 0.0036568919999999997, 0.001638228, 0.002280452, 0.001282561, 0.002322762, 0.0026565969999999997, 0.003839219, 0.00413294, 0.002480042, 0.0009823785, 0.001043682, 0.0017022209999999999, 0.001159305, 0.0007776381999999999, 0.001139232, 0.001706698, 0.0014007969999999998, 0.001775966, 0.0015525909999999999, 0.001657928, 0.0006840605, 0.0007147113, 0.0003325789, 0.0001641979, 0.0013560940000000002, 0.000924944, 0.0005420304999999999, 0.0008641925, 0.00156071, 0.006251471, 0.012140199999999999, 0.005578971, 0.0023866350000000002, 0.005719009000000001, 0.003693053, 0.002013749, 0.001820553, 0.002225879, 0.004674129, 0.002009203, 0.003475272, 0.002886557, 0.0020229090000000003, 0.001242178, 0.002156156, 0.0023856040000000004, 0.002013207, 0.0017073, 0.00452217, 0.004707906, 0.002143187, 0.0027627370000000004, 0.003155043, 0.003619137, 0.002221538, 0.00926, 0.01163648, 0.004735564, 0.0019104789999999999, 0.0007988877000000001, 0.0006823221999999999, 0.003461249, 0.006924235, 0.01162936, 0.01270323, 0.007201419, 0.0069683919999999995, 0.004687737000000001, 0.0004919206, 0.002411302, 0.002367243, 0.004123684000000001, 0.004907702, 0.0038576899999999996, 0.001046293, 0.0008639637000000001, 0.002736052, 0.003714708, 0.006381617, 0.005619173, 0.003714263, 0.0031883379999999998, 0.0025788070000000002, 0.002078717, 0.002322843, 0.00162759, 0.0006424746, 0.002391251, 0.0078007729999999996, 0.02614128, 0.01905122, 0.003447786, 0.003748221, 0.00311158, 0.001787187, 0.0019385070000000001, 0.0039058760000000004, 0.003861505, 0.001233879, 0.002392086, 0.002951925, 0.001754175, 0.001429823, 0.005691422, 0.004477899, 0.0028794700000000003, 0.0029298899999999997, 0.0005461588, 0.002504016, 0.001701313, 0.001676242, 0.003466938, 0.005301921, 0.0034469220000000003, 0.006069614, 0.009469443000000001, 0.0035265590000000003, 0.001992256, 0.0009852676, 0.001386899, 0.0005474719, 0.001390543, 0.0040956659999999995, 0.006286435999999999, 0.001978614, 0.0009376909, 0.0006013327, 0.001268354, 0.002384097, 0.00323939, 0.002916867, 0.001883344, 0.0008463917000000001, 0.002497012, 0.003116493, 0.003552614, 0.004076083, 0.003393995, 0.003022829, 0.00392523, 0.0009961274, 0.009170901, 0.015354769999999998, 0.008707375, 0.005656725, 0.007691646, 0.00813976, 0.007089915, 0.005408208, 0.009366273, 0.01112096, 0.0031564229999999998, 0.0068869019999999994, 0.007727126000000001, 0.01179637, 0.02150394, 0.02032764, 0.01423308, 0.003463661, 0.00679627, 0.009027541, 0.008245128999999999, 0.0068247, 0.0002990706, 0.004019162, 0.0035911339999999997, 0.0017209670000000001, 0.001550919, 0.003367535, 0.003641204, 0.0007706552, 0.002525021, 0.002452517, 0.001893067, 0.004392518, 0.002513079, 0.0006661925, 0.0018750470000000001, 0.001028202, 0.001634268, 0.00024428249999999997, 0.004602031, 0.01400493, 0.02093812, 0.01449292, 0.005794503, 0.006895555, 0.008077701999999999, 0.007279827, 0.003435053, 0.004226893, 0.001166321, 0.007342273000000001, 0.0072096980000000005, 0.0042761859999999995, 0.002726516, 0.003913634, 0.0103079, 0.0059824069999999995, 0.004709706, 0.003096582, 0.0032603579999999997, 0.0011874569999999998, 0.0009906367999999999, 0.003354988, 0.005104276, 0.002856983, 0.003829999, 0.007906477, 0.006343202, 0.0036846129999999998, 0.003687156, 0.007875123999999999, 0.003980585, 0.001067774, 0.003230907, 0.004764643999999999, 0.0029209989999999996, 0.0035945070000000003, 0.003548698, 0.003837533, 0.002192448, 0.001043418, 0.0020630040000000002, 0.001788373, 0.001676381, 0.001396214, 0.002362232, 0.0013951889999999998, 0.0038593709999999995, 0.006207509, 0.009809109, 0.005122323, 0.006140795, 0.008757441000000001, 0.006939025, 0.006412292, 0.003519325, 0.00033649870000000004, 0.0005908807, 0.004521519, 0.01411032, 0.01637345, 0.0060512709999999996, 0.002283214, 0.0007375567, 0.007516945, 0.009812967, 0.007261147, 0.01481487, 0.011978649999999999, 0.007156167, 0.004523383, 0.004735184999999999, 0.0054835000000000005, 0.00202133, 0.001914496, 0.003100518, 0.004446222, 0.007093165, 0.008767503, 0.0041717759999999994, 0.009386723000000001, 0.008934283000000001, 0.0016323879999999998, 0.01158585, 0.02588343, 0.02406732, 0.01338502, 0.009450993000000001, 0.00852698, 0.006559346, 0.01981875, 0.04628868, 0.05575902, 0.101, 0.061377219999999996, 0.026680660000000002, 0.01292485, 0.004369096, 0.00570527, 0.007723913, 0.003787565, 0.003112933, 0.006750472, 0.009932198000000001, 0.006958467, 0.003943729, 0.002534059, 0.01153873, 0.0153282, 0.007263866000000001, 0.0144105, 0.02637998, 0.015088639999999999, 0.0067553280000000005, 0.009637998, 0.01086341, 0.006572376, 0.010955, 0.02406059, 0.02374039, 0.015260629999999999, 0.008328234, 0.00131412, 0.002419571, 0.001591692, 0.0013701260000000002, 0.004450768, 0.005720853000000001, 0.004465576000000001, 0.005524932000000001, 0.00410786, 0.004427273999999999, 0.004541058, 0.0013128999999999999, 0.0005192758000000001, 0.0011679700000000002, 0.004184733, 0.0050456170000000005, 0.00489831, 0.005148232, 0.005501516999999999, 0.00306522, 0.001510664, 0.002011822, 0.003321885, 0.006443761, 0.004671865, 0.004108625, 0.002912946, 0.011268760000000001, 0.01770675, 0.006320574, 0.003849907, 0.003583809, 0.002184739, 0.003433745, 0.0017373920000000001, 0.0008537887, 0.0019065339999999999, 0.001161275, 0.0010955140000000001, 0.0007424812, 0.001117386, 0.002845489, 0.003789021, 0.0030010320000000003, 0.00415556, 0.0020408590000000003, 0.0001981071, 0.0028526539999999996, 0.0053011080000000006, 0.0022631500000000002, 0.00022967679999999998, 0.0006867281, 0.001295542, 0.002104915, 0.001520017, 0.0037291110000000002, 0.006247879, 0.004262051, 0.002686521, 0.001159619, 0.0016736309999999999, 0.001421212, 0.001815725, 0.0020081969999999998, 0.001855454, 0.0018491030000000002, 0.001541574, 0.001236932, 0.001492561, 0.001414793, 0.0018299850000000001, 0.002382975, 0.0009402131, 0.001967591, 0.001137575, 0.001910767, 0.002652137, 0.002397848, 0.001727033, 0.0019013370000000001, 0.002174201, 0.001005307, 0.0016813660000000001, 0.0005221845, 0.00030172630000000004, 0.0003209524, 0.0005443395, 0.001035125, 0.002226525, 0.0008463382, 0.0005438296, 0.0005900159, 0.000835909, 0.0008003147999999999, 0.0023286739999999998, 0.002637608, 0.0009416642, 0.0001788782, 0.0009780393, 0.0007720701000000001, 0.0006108999, 0.001082806, 0.0005070480000000001, 0.0007669542999999999, 0.001372081, 0.001894214, 0.002615214, 0.002815483, 0.0030003599999999997, 0.0030791860000000002, 0.0005729499999999999, 0.0020770100000000002, 0.001331869, 0.005472938, 0.004583469, 0.0021019230000000003, 0.0024809109999999997, 0.001759371, 0.0025102799999999997, 0.002859449, 0.002958656, 0.002812704, 0.001929577, 0.001517573, 0.001604852, 0.002031687, 0.0013033939999999998, 0.002669608, 0.002323217, 0.001388256, 0.002345788, 0.003496513, 0.003992395, 0.003859573, 0.002870188, 0.003086845, 0.001797481, 0.001047648, 0.005188434, 0.006063689, 0.0004377203, 0.005867448999999999, 0.00667653, 0.005057308, 0.0033388410000000004, 0.0017286019999999999, 0.001818077, 0.0030821629999999997, 0.001660453, 0.003525166, 0.003230654, 0.0006170644, 0.002155742, 0.001167474, 0.001368004, 0.003460598, 0.0018673840000000001, 0.003981893, 0.005084442, 0.001244127, 0.001191058, 0.00321511, 0.003011406, 0.0020507589999999997, 0.0011338939999999999, 0.0008788856, 0.0020991, 0.001262254, 0.0001746421, 0.0007788026, 0.002753008, 0.003624283, 0.001511038, 0.005163638, 0.0067227860000000006, 0.0051519569999999995, 0.003394925, 0.003547144, 0.00204017, 0.0007214778, 0.002460649, 0.003009588, 0.004835549000000001, 0.005123667, 0.002716791, 0.003061395, 0.002179791, 0.001540496, 0.0026057619999999997, 0.003581914, 0.001773282, 0.0005234543, 0.0025530680000000004, 0.001632988, 0.001522599, 0.0017262179999999998, 0.001571479, 0.0013537879999999999, 0.002377569, 0.001451285, 0.003403949, 0.0011880769999999998, 0.0016097470000000001, 0.003308451, 0.001687063, 0.0005962503, 0.001562743, 0.002349973, 0.0027226169999999997, 0.0012972020000000001, 0.00040354610000000005, 0.0007914455000000001, 0.0008530878, 0.001387198, 0.0014835620000000001, 0.002143313, 0.001612819, 0.001026222, 0.002512325, 0.001914371, 0.001657861, 0.001557857, 0.0005480589, 0.001155719, 0.001455928, 0.0010934, 0.0016672999999999998, 0.001928785, 0.001132954, 0.0004291859, 0.0002781652, 0.001381139, 0.001450775, 0.0006717605, 0.0009578410000000001, 0.001354977, 0.0012184160000000002, 0.0005161289, 0.001047491, 0.000626507, 0.0009649858000000001, 0.0020507760000000002, 0.0023358850000000002, 0.0005348927, 0.0012714649999999998, 0.0007426053999999999, 0.004724411, 0.008039161, 0.004774977, 0.00190026, 0.001146355, 0.001423934, 0.0015235980000000001, 0.006009921, 0.008901659, 0.004448184, 0.001004745, 0.0010624509999999998, 0.0004688239, 0.001509361, 0.001820038, 0.002291748, 0.002662115, 0.001495438, 0.001059315, 0.002381382, 0.002676779, 0.001386561, 7.460803e-05, 0.0002353549, 0.0008305577999999999, 0.0008299706, 0.0006591966999999999, 0.0007814805, 0.0004267467, 0.002005023, 0.002466649, 0.001641396, 0.001140348, 0.0006262042000000001, 0.0005462364, 0.0009107029, 0.001357574, 0.0005413096, 0.001821769, 0.001291418, 0.0010680960000000001, 0.0005763108, 0.0009754925, 0.0001388481, 0.0007125696999999999, 0.0009870255, 0.0017404920000000002, 0.00153473, 0.0003416968, 0.0007160258, 0.0008191043, 0.001388874, 0.001213714, 0.0008663016, 0.0008534829, 0.00153761, 0.001577997, 0.001295968, 0.0010017910000000001, 0.0005509133, 0.00024231460000000003, 0.0003795632, 0.000470882, 0.00024017439999999998, 0.0001130976, 0.0005578288, 0.001052106, 0.0006089267, 0.0007309889, 0.001395624, 0.002129756, 0.0021505730000000002, 0.0005719025000000001, 0.002363303, 0.001954047, 0.001729872, 0.0014919990000000001, 0.001106479, 0.0014213659999999999, 0.002955514, 0.0011469199999999998, 0.001801318, 0.002233253, 0.002090492, 0.0004598031, 0.00114783, 0.0004516026, 0.0003225491, 0.0007716064, 0.0005186165999999999, 0.0007993604, 0.0008433567, 0.0005894739000000001, 0.0004749174, 0.001018747, 0.0011590770000000001, 0.0010531459999999998, 0.001216978, 0.001708321, 0.001574362, 0.0003085235, 0.0009561767, 0.0004653355, 0.00040464149999999997, 0.0012459160000000001, 0.0029028829999999998, 0.0017197339999999999, 0.0009952656, 0.001014329, 0.00021574689999999999, 0.0004201987, 0.00101427, 0.0009510573, 0.0006260967, 0.0005638418, 0.0008128471, 0.0005018702, 0.00030554810000000003, 0.00018131889999999998, 0.002186349, 0.0027396079999999997, 0.0005355636, 0.001173326, 0.0006432346, 0.0003719939, 0.00042994299999999996, 0.00048556870000000005, 0.0004940379, 0.0006527608999999999, 0.00023475259999999998, 0.0005278319000000001, 0.0004703668, 0.0005391449, 0.00037481520000000004, 0.0008127419, 0.0005393314, 0.0007084916, 0.0005057235, 0.0005331335, 0.0003135821, 0.0005889484999999999, 0.0022818590000000002, 0.003269043, 0.001450979, 0.0001930836, 0.00017665659999999999, 0.0008609534, 0.0005308686, 0.0006663481, 0.0004210664, 0.0002807277, 0.0003274355, 0.001133831, 0.001390834, 0.0007904433, 0.0004488859, 0.00043310150000000003, 0.0008395532999999999, 0.001752745, 0.000993366, 0.0002497968, 0.0007107089, 0.0007461682, 0.0003195233, 0.0005540186000000001, 0.0004590969, 0.00048501139999999996, 0.0005097359, 0.0005044648, 0.002651942, 0.003293121, 0.0012196800000000001, 0.0006002248, 0.000410672, 0.00147386, 0.002331252, 0.002257992, 0.001305645, 0.000378143, 0.001319883, 0.003513137, 0.005742552000000001, 0.0033415059999999997, 0.00208577, 0.002540781, 0.003969337, 0.001728132, 0.0003564689, 0.0011795360000000001, 0.001749029, 0.0005805146000000001, 0.001745625, 0.002221887, 0.002366498, 0.0025569119999999997, 0.001381139, 0.001800984, 0.0017372319999999998, 0.0006410479, 0.001883643, 0.002946698, 0.0005558675, 0.002679821, 0.002755972, 0.002304492, 0.0007306432000000001, 0.003238333, 0.002264632, 0.001214651, 0.001920613, 0.0011142550000000002, 0.0004782607, 0.0014028229999999999, 0.00208613, 0.0016506919999999998, 0.0007248300999999999, 0.000401268, 0.001199088, 0.0006220828, 0.0008918445, 0.001175244, 0.001176107, 0.0003043648, 0.0007577806, 0.0021557629999999998, 0.002085146, 0.001381666, 0.001370567, 0.001930009, 0.0020031, 0.002052399, 0.001635404, 0.0006029625, 0.000960489, 0.001103911, 0.00042434780000000005, 0.0004657733, 0.0003058021, 0.001840116, 0.002248682, 0.001254516, 0.0008112621, 0.001249775, 0.0006719769, 0.001454755, 0.002426461, 0.00201335, 0.0009223326000000001, 0.00045339940000000003, 0.0003825921, 0.0004909096, 0.0003823849, 0.0003674748, 0.0002479364, 0.0002912644, 0.0008664046000000001, 0.00150682, 0.00133958, 0.0011733409999999998, 0.00030201759999999995, 0.001390367, 0.0022263409999999997, 0.0019287229999999998, 0.0005041672, 0.00031660229999999997, 0.001030352, 0.0006563666, 0.0012444239999999998, 0.001228339, 0.0007258597, 0.0007796928, 0.0007546071, 0.0006514652, 0.0005178267, 0.0007202955, 0.001529641, 0.001082332, 0.0006286936, 0.0008681526000000001, 0.0005700495, 0.00029459310000000004, 0.0004189458, 0.0005926235, 0.0009364308, 0.001143271, 0.001080491, 0.0009743865000000001, 0.001547631, 0.0009684100999999999, 2.3474920000000003e-05, 0.0006384576, 0.0008461321, 0.001156221, 0.001128466, 0.0013502800000000001, 0.000835553, 0.0003104447, 0.0003969736, 0.0004964723000000001, 0.0007710549, 0.0007299219999999999, 0.000118707, 0.0007307367, 0.0008562422000000001, 0.0001926182, 0.0004642195, 0.00036560970000000005, 0.0002783362, 0.0006003444, 0.0008468794000000001, 0.0005943552, 0.001009179, 0.001506713, 0.0009223603, 0.0004180635, 0.0003348278, 0.0003528122, 0.0010606559999999999, 0.001374157, 0.001604038, 0.001747904, 0.001106412, 0.0003648484, 0.0003925551, 0.0002990097, 0.0009509505]
pkt = json.loads(st)

def getI6(rpm, fft):
    k = int(rpm * 4)
    sum_k = 0 
    count_k = 0 
    while k < 1024:
        sum_k += fft[k] 
        count_k += 1 
        k *= 2 
    return sum_k/count_k

def getI9(rpm, fft):
    k = rpm * 0.25 
    sum_k = 0 
    count_k = 0 
    while k > 0:
        sum_k += fft[int(k)]
        count_k += 1
        k *= 0.5
    return sum_k/count_k

def print_weighted_sums(causes, i_values):
    results = []

    for key, values in causes.items():
        weighted_sum = sum(value * i for value, i in zip(values, i_values))
        key_sum = sum(i for i in values)
        if key_sum != 0: 
            results.append((key, weighted_sum / key_sum))
    results = sorted(results, key=lambda x: x[1], reverse=True)[:5]
    
    for key, value in results:
        print(f"{key}, ({value})")

def Shore(SCC, pkt):
    # send & retrieve rms from web 
    SCC.rms = classification.forBearing(pkt, mms)
    #print(classification.forAxis(pkt, microS))
    alarm = classification.getAlarm(pkt)
    print(classification.forBearing(pkt, mms))
    rpm = pkt['Speed']/60
    try:
        i1 = fft[int(pkt['Critical']/60)]
        i2 = sum(fft[int(rpm*0.4):int(rpm*0.5)]) / len(fft[int(rpm*0.4):int(rpm*0.5)])
        i3 = sum(fft[int(rpm*0.5):int(rpm)]) / len(fft[int(rpm*0.5):int(rpm)])
        i4 = fft[int(rpm)]
        i5 = fft[int(rpm*2)]
        i6 = getI6(rpm, fft)#sum(fft[int(rpm*2):]) / len(fft[int(rpm*2):])
        i7 = fft[int(rpm*0.5)]
        i8 = fft[int(rpm*0.25)]
        i9 = getI9(rpm, fft)#sum(fft[:int(rpm*0.5)]) / len(fft[:int(rpm*0.5)])
        i10 = (sum(fft[int(rpm*0.25):int(rpm*0.4)])+sum(fft[int(rpm):int(rpm*2)])) / (len(fft[int(rpm*0.25):int(rpm*0.4)])+len(fft[int(rpm):int(rpm*2)]))
    except Exception as e:
        print("An error occurred:", e)
        return SCC
        
    i1 = i1/alarm
    i2 = i2/alarm
    i3 = i3/alarm
    i4 = i4/alarm
    i5 = i5/alarm
    i6 = i6/alarm
    i7 = i7/alarm
    i8 = i8/alarm
    i9 = i9/alarm
    i10 = i10/alarm

    for i in [i1, i2, i3, i4, i5, i6, i7, i8, i9, i10]:
        if i > 1:
            i = 1

    i_values = [i1, i2, i3, i4, i5, i6, i7, i8, i9, i10, 0]


    causes = {
        "initial unbalance": [5, 0, 0, 90, 5, 5, 0, 0, 0, 0, 0],
        "permanent bow or lost rotor parts": [30, 0, 0, 90, 5, 5, 0, 0, 0, 0, 0],
        "temporary rotor bow": [20, 0, 0, 90, 5, 5, 0, 0, 0, 0, 0],
        "casting distortion": [10, 10, 10, 60, 20, 10, 0, 0, 0, 0, 0],
        "foundation distortion": [0, 20, 0, 40, 30, 0, 0, 0, 0, 10, 0],
        "seal rub": [10, 10, 10, 20, 10, 10, 0, 0, 10, 10, 10],
        "rotor axial rub": [20, 20, 30, 10, 10, 0, 0, 0, 10, 10, 10],
        "Misalignment": [5, 10, 0, 30, 60, 10, 0, 0, 0, 0, 10],
        "piping forces": [5, 10, 0, 30, 60, 10, 0, 0, 0, 0, 10],
        "journal and bearing eccentricy": [60, 0, 0, 40, 60, 0, 0, 0, 0, 0, 0],
        "bearing damage" : [20, 20, 20, 40, 20, 0, 0, 0, 0, 0, 20],
        "bearing and support excited vibration": [20, 60, 0, 0, 0, 0, 10, 10, 0, 0, 0],
        "unequal x and y bearing stiffness":[80, 0, 0, 0, 80, 20, 0, 0, 0, 0, 0],
        "Thrust bearing damage" : [90, 90, 90, 90, 90, 0, 0, 0, 0, 0, 0],
        "insufficient tightness in assembly of rotor (shrink-fits)" : [40, 40, 10, 10, 10, 10, 0, 0, 0, 10, 0],
        "insufficient tightness in assembly of bearing liner" : [90, 90, 0, 0, 0, 0, 0, 0, 0, 10, 0],
        "insufficient tightness in assembly of bearing case" : [90, 90, 0, 30, 0, 0, 0, 0, 0, 10, 0],
        "insufficient tightness in assembly of casing and support" : [90, 90, 0, 30, 0, 0, 0, 0, 0, 50, 0],
        #"gear inaccuracy or damage" : [0, 0, 0, 0, 0, 20, 0, 0, 0, 20, 60],
        #"coupling inaccuracy or damage" : [10, 20, 10, 20, 30, 10, 0, 0, 0, 80, 80],
        "critical speed" : [100, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0],
        "structural resonance" : [100, 10, 0, 0, 70, 10, 0, 10, 0, 0, 0],
        "pressure pulsations" : [80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        "oil seal induced vibm" : [30, 70, 0, 0, 0, 0, 0, 0, 0, 0, 0],

    }
        
    results = []

    for key, values in causes.items():
        weighted_sum = sum(value * i for value, i in zip(values, i_values))
        key_sum = sum(i for i in values)
        if key_sum != 0: 
            results.append((key, weighted_sum / key_sum))
    results = sorted(results, key=lambda x: x[1], reverse=True)[:5]
    
    SCC.first = results[0]
    SCC.second = results[1]
    SCC.third = results[2]
    SCC.fourth = results[3]
    SCC.fifth = results[4]
    
    return SCC
SCC = packets.SCShore()
print(Shore(SCC, pkt).__dict__)